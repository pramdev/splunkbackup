{
"eai:data": "<form version=\"1.1\" hideEdit=\"True\">\n    <label>Job Details Dashboard</label>\n    <fieldset submitButton=\"false\"></fieldset>\n    <row>\n        <panel>\n            <html>\n                <p>This dashboard displays properties of a search job. Use it to gain insight into search job performance and troubleshoot search efficiency issues. Provide a Search ID for a job that has not expired.</p>\n                <p><a class=\"external\" href=\"/help?location=learnmore.job.details\" target=\"_blank\">Learn more</a>.</p>\n            </html>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <input type=\"text\" token=\"sid\">\n                <label>Search ID (SID)</label>\n            </input>\n        </panel>\n    </row>\n\n    <search id=\"baseSearch\">\n        <query>\n            | rest /services/search/jobs/$sid$ splunk_server=local\n        </query>\n        <earliest>-4h</earliest>\n        <latest></latest>\n        <refresh>60s</refresh>\n    </search>\n\n    <row>\n        <panel>\n            <html>\n                <h1>Summary</h1>\n            </html>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Search Duration</title>\n            <html>\n                <style type=\"text/css\">\n                    #search_duration .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                    #search_duration .single-value .single-result-unit {\n                    font-size: 30%;\n                    }\n                </style>\n            </html>\n            <single id=\"search_duration\">\n                <search base=\"baseSearch\">\n                    <query>fields runDuration</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"numberPrecision\">0.00</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"unit\">s</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Total Events Scanned</title>\n            <html>\n                <style type=\"text/css\">\n                    #events_scanned .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"events_scanned\">\n                <search base=\"baseSearch\">\n                    <query>fields scanCount</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Total Events Matched</title>\n            <html>\n                <style type=\"text/css\">\n                    #events_matched .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"events_matched\">\n                <search base=\"baseSearch\">\n                    <query>fields eventCount</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Result Count</title>\n            <html>\n                <style type=\"text/css\">\n                    #result_count .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"result_count\">\n                <search base=\"baseSearch\">\n                    <query>fields resultCount</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Events Scanned Per Second</title>\n            <html>\n                <style type=\"text/css\">\n                    #events_scanned_per_sec .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"events_scanned_per_sec\">\n                <search base=\"baseSearch\">\n                    <query>eval eventsScannedPerSec=scanCount / exact(runDuration) | fields eventsScannedPerSec</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"numberPrecision\">0</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Search Status</title>\n            <html>\n                <style type=\"text/css\">\n                    #search_status .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"search_status\">\n                <search base=\"baseSearch\">\n                    <query>fields dispatchState | eval dispatchState=lower(dispatchState)</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Search User</title>\n            <html>\n                <style type=\"text/css\">\n                    #search_user .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"search_user\">\n                <search base=\"baseSearch\">\n                    <query>fields author</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Search Mode</title>\n            <html>\n                <style type=\"text/css\">\n                    #search_mode .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n                <a class=\"external\" href=\"/help?location=learnmore.search.mode\" target=\"_blank\">Learn more</a>\n            </html>\n            <single id=\"search_mode\">\n                <search base=\"baseSearch\">\n                    <query>eval searchMode=if (isnull('custom.display.page.search.mode'), \"smart\", 'custom.display.page.search.mode') | fields searchMode</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Server Info</title>\n            <html>\n                <style type=\"text/css\">\n                    #server_info .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"server_info\">\n                <search base=\"baseSearch\">\n                    <query>fields splunk_server</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <html>\n                <h1>Search Strings</h1>\n            </html>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Search String</title>\n            <table>\n                <search base=\"baseSearch\">\n                    <query>fields search</query>\n                </search>\n                <option name=\"count\">20</option>\n                <option name=\"dataOverlayMode\">none</option>\n                <option name=\"drilldown\">none</option>\n                <option name=\"percentagesRow\">false</option>\n                <option name=\"rowNumbers\">false</option>\n                <option name=\"totalsRow\">false</option>\n                <option name=\"wrap\">true</option>\n            </table>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Optimized Search String</title>\n            <table>\n                <search base=\"baseSearch\">\n                    <query>fields optimizedSearch</query>\n                </search>\n                <option name=\"count\">20</option>\n                <option name=\"dataOverlayMode\">none</option>\n                <option name=\"drilldown\">none</option>\n                <option name=\"percentagesRow\">false</option>\n                <option name=\"rowNumbers\">false</option>\n                <option name=\"totalsRow\">false</option>\n                <option name=\"wrap\">true</option>\n            </table>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Map Phase Search String</title>\n            <table>\n                <search base=\"baseSearch\">\n                    <query>fields remoteSearch</query>\n                </search>\n                <option name=\"count\">20</option>\n                <option name=\"dataOverlayMode\">none</option>\n                <option name=\"drilldown\">none</option>\n                <option name=\"percentagesRow\">false</option>\n                <option name=\"rowNumbers\">false</option>\n                <option name=\"totalsRow\">false</option>\n                <option name=\"wrap\">true</option>\n            </table>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Reduce Phase Search String</title>\n            <table>\n                <search base=\"baseSearch\">\n                    <query>fields reduceSearch | eval reduceSearch=if (isnull(reduceSearch), \"N/A\", reduceSearch)</query>\n                </search>\n                <option name=\"count\">20</option>\n                <option name=\"dataOverlayMode\">none</option>\n                <option name=\"drilldown\">none</option>\n                <option name=\"percentagesRow\">false</option>\n                <option name=\"rowNumbers\">false</option>\n                <option name=\"totalsRow\">false</option>\n                <option name=\"wrap\">true</option>\n            </table>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <html>\n                <h1>Search Costs</h1>\n            </html>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Search Costs by Command</title>\n            <chart>\n                <search>\n                    <query>index=\"_introspection\" sourcetype=search_telemetry search_id=*$sid$* | spath path=search_commands{}.name output=command | spath path=search_commands{}.duration output=duration | eval fields=mvzip(command, duration, \",\") | mvexpand fields | rex field=fields \"(?&lt;Command&gt;[^,]+),(?&lt;Duration&gt;.+)$\"\n                        | table Command, Duration</query>\n                    <earliest>-4h</earliest>\n                    <latest></latest>\n                    <refresh>60s</refresh>\n                </search>\n                <option name=\"charting.axisTitleX.text\">Command</option>\n                <option name=\"charting.axisTitleY.text\">Duration (s)</option>\n                <option name=\"charting.chart\">bar</option>\n                <option name=\"charting.chart.showDataLabels\">all</option>\n                <option name=\"charting.drilldown\">none</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </chart>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Approximate Time Spent in Map Phase</title>\n            <html>\n                <style type=\"text/css\">\n                    #map_phase_time .dashboard-element-title {\n                    font-weight: normal !important;\n                    font-size: 90% !important;\n                    }\n                    #map_phase_time .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                    #map_phase_time .single-value .single-result-unit {\n                    font-size: 30%;\n                    }\n                </style>\n            </html>\n            <single id=\"map_phase_time\">\n                <title>Click on the time to see a detailed breakdown of the search costs by command for the map phase.</title>\n                <search base=\"baseSearch\">\n                    <query>fields performance.dispatch.stream.remote.*.duration_secs, performance.dispatch.stream.local.duration_secs | transpose | rename column as Indexer \"row 1\" as Duration | stats max(Duration)</query>\n                </search>\n                <option name=\"drilldown\">all</option>\n                <option name=\"numberPrecision\">0.00</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"unit\">s</option>\n                <drilldown>\n                    <set token=\"map_phase_drilldown\">$click.value$</set>\n                </drilldown>\n            </single>\n        </panel>\n        <panel>\n            <title>Approximate Time Spent in Reduce Phase</title>\n            <html>\n                <style type=\"text/css\">\n                    #reduce_phase_time .dashboard-element-title {\n                    font-weight: normal !important;\n                    font-size: 90% !important;\n                    }\n                    #reduce_phase_time .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                    #reduce_phase_time .single-value .single-result-unit {\n                    font-size: 30%;\n                    }\n                </style>\n            </html>\n            <single id=\"reduce_phase_time\">\n                <title>Click on the time to see a detailed breakdown of the search costs by command for the reduce phase.</title>\n                <search base=\"baseSearch\">\n                    <query>fields reduceSearch | rex field=reduceSearch max_match=0 \"(^(?&lt;first&gt;\\w+){1})|((\\| (?&lt;command&gt;\\w+)))\" | eval Command = mvappend(first, command) | mvexpand Command | fields Command | eval Command=if(like(Command, \"%stats%\"), \"stats\", Command) | eval Command=if(like(Command, \"%bin%\"), \"prebin\", Command) | join Command [| search index=\"_introspection\" sourcetype=search_telemetry search_id=*$sid$* | spath path=search_commands{}.name output=command | spath path=search_commands{}.duration output=duration | eval tempField= mvzip(command, duration) | stats count by tempField | eval Command = mvindex(split(tempField,\",\"),0), Duration= mvindex(split(tempField,\",\"),1) | fields Command, Duration] | stats sum(Duration)</query>\n                </search>\n                <option name=\"drilldown\">all</option>\n                <option name=\"numberPrecision\">0.00</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"unit\">s</option>\n                <drilldown>\n                    <set token=\"reduce_phase_drilldown\">$click.value$</set>\n                </drilldown>\n            </single>\n        </panel>\n    </row>\n    <row>\n        <panel depends=\"$map_phase_drilldown$\">\n            <title>Map Phase Search Costs by Command</title>\n            <chart>\n                <search base=\"baseSearch\">\n                    <query>fields remoteSearch | rex field=remoteSearch max_match=0 \"(^(?&lt;first&gt;\\w+){1})|((\\| (?&lt;command&gt;\\w+)))\" | eval Command = mvappend(first, command) | mvexpand Command | fields Command | join Command [| search index=\"_introspection\" sourcetype=search_telemetry search_id=*$sid$* | spath path=search_commands{}.name output=command | spath path=search_commands{}.duration output=duration | eval tempField= mvzip(command, duration) | stats count by tempField | eval Command = mvindex(split(tempField,\",\"),0), Duration= mvindex(split(tempField,\",\"),1) | fields Command, Duration] | table Command, Duration</query>\n                </search>\n                <option name=\"charting.axisTitleX.text\">Command</option>\n                <option name=\"charting.axisTitleY.text\">Duration (s)</option>\n                <option name=\"charting.axisY.abbreviation\">none</option>\n                <option name=\"charting.axisY.scale\">linear</option>\n                <option name=\"charting.chart\">bar</option>\n                <option name=\"charting.chart.showDataLabels\">all</option>\n                <option name=\"charting.chart.stackMode\">default</option>\n                <option name=\"charting.drilldown\">all</option>\n                <option name=\"charting.layout.splitSeries\">0</option>\n                <option name=\"charting.legend.placement\">none</option>\n                <drilldown>\n                    <unset token=\"map_phase_drilldown\"></unset>\n                </drilldown>\n            </chart>\n        </panel>\n    </row>\n    <row>\n        <panel depends=\"$reduce_phase_drilldown$\">\n            <title>Reduce Phase Search Costs by Command</title>\n            <chart>\n                <search base=\"baseSearch\">\n                    <query>fields reduceSearch | rex field=reduceSearch max_match=0 \"(^(?&lt;first&gt;\\w+){1})|((\\| (?&lt;command&gt;\\w+)))\" | eval Command = mvappend(first, command) | mvexpand Command | fields Command | eval Command=if(like(Command, \"%stats%\"), \"stats\", Command) | eval Command=if(like(Command, \"%bin%\"), \"prebin\", Command) | join Command [| search index=\"_introspection\" sourcetype=search_telemetry source=*$sid$* | spath path=search_commands{}.name output=command | spath path=search_commands{}.duration output=duration | eval tempField= mvzip(command, duration) | stats count by tempField | eval Command = mvindex(split(tempField,\",\"),0), Duration= mvindex(split(tempField,\",\"),1) | fields Command, Duration] | table Command, Duration</query>\n                </search>\n                <option name=\"charting.axisTitleX.text\">Command</option>\n                <option name=\"charting.axisTitleY.text\">Duration (s)</option>\n                <option name=\"charting.chart\">bar</option>\n                <option name=\"charting.chart.showDataLabels\">all</option>\n                <option name=\"charting.drilldown\">all</option>\n                <drilldown>\n                    <unset token=\"reduce_phase_drilldown\"></unset>\n                </drilldown>\n                <option name=\"refresh.display\">progressbar</option>\n            </chart>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Startup Handoff Time</title>\n            <html>\n                <style type=\"text/css\">\n                    #startup_handoff .dashboard-element-title {\n                    font-weight: normal !important;\n                    font-size: 90% !important;\n                    }\n                    #startup_handoff .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                    #startup_handoff .single-value .single-result-unit {\n                    font-size: 30%;\n                    }\n                </style>\n            </html>\n            <single id=\"startup_handoff\">\n                <title>Time between the forking of a separate search process and the beginning of useful work of the forked search processes. This is cumulative across all involved peers. A large value could indicate I/O issues with .conf files or the dispatch directory.</title>\n                <search base=\"baseSearch\">\n                    <query>fields performance.startup.handoff.duration_secs</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"numberPrecision\">0.00</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"unit\">s</option>\n            </single>\n        </panel>\n    </row>\n\n    <row>\n        <panel>\n            <html>\n                <h1>Indexers</h1>\n            </html>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Number of Indexers</title>\n            <html>\n                <style type=\"text/css\">\n                    #num_of_indexers .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                </style>\n            </html>\n            <single id=\"num_of_indexers\">\n                <search base=\"baseSearch\">\n                    <query>fields performance.dispatch.stream.remote.*.duration_secs | transpose | rename column as Indexer \"row 1\" as Duration | stats count(Indexer)</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n            </single>\n        </panel>\n        <panel>\n            <title>Average Indexer Time</title>\n            <html>\n                <style type=\"text/css\">\n                    #avg_indexer_time .single-value .single-result {\n                    font-size: 50px !important;\n                    }\n                    #avg_indexer_time .single-value .single-result-unit {\n                    font-size: 30%;\n                    }\n                </style>\n            </html>\n            <single id=\"avg_indexer_time\">\n                <search base=\"baseSearch\">\n                    <query>fields performance.dispatch.stream.remote.*.duration_secs | transpose | rename column as Indexer \"row 1\" as Duration | stats avg(Duration)</query>\n                </search>\n                <option name=\"drilldown\">none</option>\n                <option name=\"numberPrecision\">0.00</option>\n                <option name=\"rangeColors\">[\"0x53a051\",\"0x0877a6\",\"0xf8be34\",\"0xf1813f\",\"0xdc4e41\"]</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"unit\">s</option>\n            </single>\n        </panel>\n    </row>\n    <row>\n        <panel>\n            <title>Time Spent Running Search Per Indexer</title>\n            <html>\n                <style type=\"text/css\">\n                    #time_per_indexer .dashboard-element-title {\n                    font-weight: normal !important;\n                    font-size: 90% !important;\n                    }\n                </style>\n            </html>\n            <table id=\"time_per_indexer\">\n                <title>Click on an indexer name to see detailed metrics for that indexer. Note that more shaded duration values indicate slower indexers.</title>\n                <search base=\"baseSearch\">\n                    <query>fields performance.dispatch.stream.remote.*.duration_secs | transpose | rename column as Indexer \"row 1\" as \"Duration (seconds)\" | rex field=Indexer \"performance.dispatch.stream.remote.(?&lt;Indexer&gt;.*).duration_secs\"</query>\n                </search>\n                <option name=\"count\">10</option>\n                <option name=\"dataOverlayMode\">heatmap</option>\n                <option name=\"drilldown\">cell</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <option name=\"rowNumbers\">true</option>\n                <drilldown>\n                    <set token=\"indexer\">$row.Indexer$</set>\n                </drilldown>\n            </table>\n        </panel>\n        <panel depends=\"$indexer$\">\n            <title>Drilldown Details For Indexer $indexer$</title>\n            <table>\n                <search base=\"baseSearch\">\n                    <query>fields performance.dispatch.stream.remote.$indexer$.* | transpose | rename column as Field \"row 1\" as Value | rex field=Field \"performance.dispatch.stream.remote.$indexer$.(?&lt;Field&gt;.*)$\"</query>\n                </search>\n                <option name=\"count\">10</option>\n                <option name=\"drilldown\">row</option>\n                <option name=\"refresh.display\">progressbar</option>\n                <drilldown>\n                    <unset token=\"indexer\"></unset>\n                </drilldown>\n            </table>\n        </panel>\n    </row>\n</form>",
"eai:type": "views",
"name": "job_details_dashboard",
"owner": "nobody",
"sharing": "app"
}
